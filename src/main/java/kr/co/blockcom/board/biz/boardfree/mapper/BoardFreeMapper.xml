<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.blockcom.board.biz.boardfree.mapper.BoardFreeMapper">
	<!-- seq
	       ,parent_seq
	       ,category
	       ,writer
	       ,title
	       ,content
	       ,view_count
	       ,notice_flag
	       ,secret_flag
	       ,mod_date
	       ,reg_date -->
	       
	       
	       
	       
	<select id="selectPostList" parameterType="kr.co.blockcom.board.vo.board.BoardFree" resultType="kr.co.blockcom.board.vo.board.BoardFree">
		SELECT
		       seq
		       ,writer
		       ,title
		       ,view_count
		       ,reg_date
		       ,secret_flag
	    FROM
			board_free
	    WHERE
			comment_flag='N'
		AND
			delete_flag='N'
		AND
			notice_flag='N'
		ORDER BY
			seq DESC
				
			
	</select>
	
    <select id="selectPost" parameterType="int" resultType="kr.co.blockcom.board.vo.board.BoardFree">
	    SELECT
	       seq
	       ,category
	       ,writer
	       ,title
	       ,content
	       ,view_count
	       ,notice_flag
	       ,secret_flag
	       ,mod_date
	       ,reg_date
	    FROM
	       board_free
	    WHERE
	       seq=#{seq}
	    AND
	       comment_flag='N'
	    AND
	       delete_flag='N'
    </select>

    <insert id="insertPost" parameterType="kr.co.blockcom.board.vo.board.BoardFree" useGeneratedKeys="true" keyProperty="seq" >
        INSERT INTO board_Free(
            category
            ,writer
            ,password
            ,title
            ,content
            ,notice_flag
            ,secret_flag            
            ,reg_date
            ,comment_flag
        ) VALUES (
            #{category}
            ,#{writer}
            ,#{password}
            ,#{title}
            ,#{content}
            ,#{notice_flag}
            ,#{secret_flag}
            ,now()
            ,'N'
        )
    </insert>
</mapper>